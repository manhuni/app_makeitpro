DÆ°á»›i Ä‘Ã¢y lÃ  ná»™i dung chi tiáº¿t cho bÃ i há»c:

---

# 03. Nmap

**CÃ´ng cá»¥ quÃ©t máº¡ng vÃ  cá»•ng máº¡nh máº½ nháº¥t dÃ nh cho Pentester**

---

## ğŸ¯ Má»¥c tiÃªu

* LÃ m quen vá»›i Nmap vÃ  cÃ¡c cháº¿ Ä‘á»™ quÃ©t.
* Hiá»ƒu cÃ¡ch phÃ¡t hiá»‡n host, dá»‹ch vá»¥, há»‡ Ä‘iá»u hÃ nh vÃ  lá»— há»•ng.
* Thá»±c hÃ nh quÃ©t máº¡ng ná»™i bá»™ hoáº·c tá»« xa.

---

## ğŸ“Œ 1. Nmap lÃ  gÃ¬?

Nmap (Network Mapper) lÃ  cÃ´ng cá»¥ mÃ£ nguá»“n má»Ÿ chuyÃªn dÃ¹ng Ä‘á»ƒ:

* QuÃ©t Ä‘á»‹a chá»‰ IP vÃ  cá»•ng máº¡ng
* PhÃ¡t hiá»‡n dá»‹ch vá»¥ Ä‘ang cháº¡y (service detection)
* PhÃ¢n tÃ­ch há»‡ Ä‘iá»u hÃ nh (OS detection)
* Kiá»ƒm tra lá»— há»•ng (vá»›i script NSE)

---

## ğŸ”§ 2. CÃ i Ä‘áº·t Nmap

TrÃªn Kali Linux, Nmap Ä‘Ã£ Ä‘Æ°á»£c cÃ i sáºµn. Náº¿u cáº§n cÃ i:

```bash
sudo apt install nmap
```

---

## ğŸ›  3. CÃ¢u lá»‡nh cÆ¡ báº£n

| Lá»‡nh                         | MÃ´ táº£                                     |
| ---------------------------- | ----------------------------------------- |
| `nmap 192.168.1.1`           | QuÃ©t host Ä‘Æ¡n                             |
| `nmap 192.168.1.0/24`        | QuÃ©t toÃ n máº¡ng con                        |
| `nmap -p 80,443 192.168.1.1` | QuÃ©t cá»•ng cá»¥ thá»ƒ                          |
| `nmap -p- 192.168.1.1`       | QuÃ©t táº¥t cáº£ 65535 cá»•ng                    |
| `nmap -sV 192.168.1.1`       | PhÃ¡t hiá»‡n phiÃªn báº£n dá»‹ch vá»¥               |
| `nmap -O 192.168.1.1`        | PhÃ¡t hiá»‡n há»‡ Ä‘iá»u hÃ nh                    |
| `nmap -A 192.168.1.1`        | Tá»•ng há»£p: OS detection + version + script |
| `nmap -sS 192.168.1.1`       | TCP SYN scan (stealth scan)               |

---

## âš™ï¸ 4. Nmap Scripting Engine (NSE)

Nmap cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c script Ä‘á»ƒ phÃ¡t hiá»‡n vÃ  khai thÃ¡c lá»— há»•ng.

VÃ­ dá»¥:

```bash
nmap --script vuln 192.168.1.1
```

Má»™t sá»‘ script phá»• biáº¿n:

* `http-title`: Láº¥y tiÃªu Ä‘á» website
* `ftp-anon`: Kiá»ƒm tra Ä‘Äƒng nháº­p áº©n danh FTP
* `smb-vuln*`: Kiá»ƒm tra lá»— há»•ng SMB

---

## ğŸ” 5. Thá»±c hÃ nh

### ğŸ”¹ BÆ°á»›c 1: XÃ¡c Ä‘á»‹nh mÃ¡y chá»§ Ä‘ang hoáº¡t Ä‘á»™ng

```bash
nmap -sn 192.168.1.0/24
```

### ğŸ”¹ BÆ°á»›c 2: QuÃ©t dá»‹ch vá»¥ chi tiáº¿t

```bash
nmap -sV -p- 192.168.1.100
```

### ğŸ”¹ BÆ°á»›c 3: PhÃ¡t hiá»‡n lá»— há»•ng

```bash
nmap --script vuln -T4 192.168.1.100
```

---

## ğŸ“Œ 6. TÃ¹y chá»n há»¯u Ã­ch khÃ¡c

| TÃ¹y chá»n        | Ã nghÄ©a                                      |
| --------------- | -------------------------------------------- |
| `-T0` Ä‘áº¿n `-T5` | Äiá»u chá»‰nh tá»‘c Ä‘á»™ quÃ©t (T0: cháº­m, T5: nhanh) |
| `-Pn`           | Bá» qua ping (khi host cháº·n ICMP)             |
| `-oN`, `-oX`    | Xuáº¥t káº¿t quáº£ ra file dáº¡ng txt hoáº·c XML       |

---

## ğŸ›¡ 7. Cáº£nh bÃ¡o vÃ  phÃ¡p lÃ½

* **Chá»‰ quÃ©t há»‡ thá»‘ng báº¡n Ä‘Æ°á»£c phÃ©p** â€“ Nmap cÃ³ thá»ƒ bá»‹ xem lÃ  táº¥n cÃ´ng náº¿u dÃ¹ng sai má»¥c Ä‘Ã­ch.
* QuÃ©t nháº§m há»‡ thá»‘ng tháº­t cÃ³ thá»ƒ gÃ¢y **bá»‹ khÃ³a IP** hoáº·c **xá»­ lÃ½ phÃ¡p lÃ½**.

---

## ğŸ§  Tá»•ng káº¿t

* Nmap lÃ  cÃ´ng cá»¥ thiáº¿t yáº¿u cho má»i pentester.
* Náº¯m vá»¯ng cÃº phÃ¡p vÃ  script NSE giÃºp báº¡n phÃ¡t hiá»‡n lá»— há»•ng nhanh hÆ¡n.
* Káº¿t há»£p Nmap vá»›i cÃ¡c bÆ°á»›c nhÆ° khai thÃ¡c, leo thang sau Ä‘Ã³ Ä‘á»ƒ hoÃ n chá»‰nh quy trÃ¬nh pentest.

---

Báº¡n muá»‘n tiáº¿p theo lÃ  bÃ i **04. Nikto â€“ QuÃ©t lá»— há»•ng web Ä‘Æ¡n giáº£n** khÃ´ng?
