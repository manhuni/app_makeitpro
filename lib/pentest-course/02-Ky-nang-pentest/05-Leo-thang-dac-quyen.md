D∆∞·ªõi ƒë√¢y l√† n·ªôi dung chi ti·∫øt cho b√†i h·ªçc:

---

# 05. Leo thang ƒë·∫∑c quy·ªÅn / Privilege Escalation

## üéØ M·ª•c ti√™u

* Hi·ªÉu m·ª•c ƒë√≠ch c·ªßa vi·ªác leo thang ƒë·∫∑c quy·ªÅn sau khi ƒë√£ khai th√°c ƒë∆∞·ª£c m·ªôt ƒëi·ªÉm x√¢m nh·∫≠p.
* Ph√¢n bi·ªát gi·ªØa leo thang ƒë·∫∑c quy·ªÅn ngang h√†ng (horizontal) v√† d·ªçc (vertical).
* L√†m quen v·ªõi k·ªπ thu·∫≠t leo thang ƒë·∫∑c quy·ªÅn tr√™n c·∫£ Linux v√† Windows.

> Privilege escalation transforms limited access into full control. It‚Äôs a crucial step for deep system compromise.

---

## üîê 1. Leo thang ƒë·∫∑c quy·ªÅn l√† g√¨?

Sau khi t·∫•n c√¥ng v√†o m·ªôt h·ªá th·ªëng, b·∫°n th∆∞·ªùng kh√¥ng c√≥ quy·ªÅn **root** ho·∫∑c **administrator**.
Leo thang ƒë·∫∑c quy·ªÅn l√† qu√° tr√¨nh **n√¢ng c·∫•p quy·ªÅn truy c·∫≠p** ƒë·ªÉ ƒëi·ªÅu khi·ªÉn to√†n b·ªô h·ªá th·ªëng.

---

## üß≠ 2. C√°c d·∫°ng Privilege Escalation

### üî∏ Vertical Privilege Escalation

* T·ª´ user th∆∞·ªùng ‚ûù root/admin

### üî∏ Horizontal Privilege Escalation

* T·ª´ user A ‚ûù user B (c√≥ vai tr√≤ cao h∆°n ho·∫∑c d·ªØ li·ªáu kh√°c)

---

## üß∞ 3. K·ªπ thu·∫≠t leo thang ph·ªï bi·∫øn

### üîπ Tr√™n Linux:

| K·ªπ thu·∫≠t                | C√¥ng c·ª•                         | M√¥ t·∫£                             |
| ----------------------- | ------------------------------- | --------------------------------- |
| Ki·ªÉm tra sudo           | `sudo -l`                       | Xem quy·ªÅn sudo kh√¥ng c·∫ßn m·∫≠t kh·∫©u |
| SetUID binary           | Manual, `find`                  | Ch·∫°y file c√≥ quy·ªÅn root           |
| Kernel Exploit          | `searchsploit`, `dirtycow`      | L·ªói kernel ch∆∞a v√°                |
| PATH Hijacking          | Manual                          | L·ª´a g·ªçi nh·∫ßm binary trong `$PATH` |
| Cron Jobs               | Manual                          | T√¨m job ƒë·ªãnh k·ª≥ ch·∫°y b·∫±ng root    |
| SUID + Weak Permissions | `linpeas`, `find / -perm -4000` | Ph√¢n quy·ªÅn kh√¥ng h·ª£p l√Ω           |

### üîπ Tr√™n Windows:

| K·ªπ thu·∫≠t              | C√¥ng c·ª•                   | M√¥ t·∫£                             |
| --------------------- | ------------------------- | --------------------------------- |
| Unquoted Service Path | Manual                    | D·ªãch v·ª• c·∫•u h√¨nh sai ƒë∆∞·ªùng d·∫´n    |
| DLL Hijacking         | `Process Monitor`, manual | G·∫Øn DLL gi·∫£ v√†o qu√° tr√¨nh         |
| Insecure Registry     | Manual                    | S·ª≠a registry ƒë·ªÉ ch√®n shell        |
| AlwaysInstallElevated | `whoami /priv`            | Cho ph√©p ch·∫°y MSI v·ªõi quy·ªÅn admin |
| Token Impersonation   | `mimikatz`                | Chi·∫øm quy·ªÅn th√¥ng qua token       |

---

## üõ† C√¥ng c·ª• h·ªó tr·ª£

| T√™n c√¥ng c·ª•               | N·ªÅn t·∫£ng | M·ª•c ƒë√≠ch                         |
| ------------------------- | -------- | -------------------------------- |
| `linpeas.sh`              | Linux    | Thu th·∫≠p th√¥ng tin t·ª± ƒë·ªông       |
| `winPEAS.exe`             | Windows  | Li·ªát k√™ l·ªó h·ªïng quy·ªÅn            |
| `Linux Exploit Suggester` | Linux    | G·ª£i √Ω kernel exploit             |
| `PowerUp.ps1`             | Windows  | Leo thang t·ª± ƒë·ªông qua PowerShell |
| `mimikatz`                | Windows  | L·∫•y token, m·∫≠t kh·∫©u, credential  |
| `GTFOBins`                | Linux    | T·ªïng h·ª£p l·ªánh c√≥ th·ªÉ l·∫°m d·ª•ng    |

---

## üß™ 4. V√≠ d·ª• leo thang v·ªõi sudo

```bash
sudo -l
# Output:
# (ALL : ALL) NOPASSWD: /usr/bin/vim

sudo /usr/bin/vim
:! /bin/bash
```

---

## üß† T·ªïng k·∫øt

* Leo thang ƒë·∫∑c quy·ªÅn gi√∫p b·∫°n ki·ªÉm so√°t h·ªá th·ªëng ho√†n to√†n.
* Lu√¥n ki·ªÉm tra c·∫©n th·∫≠n m√¥i tr∆∞·ªùng, d·ªãch v·ª•, ph√¢n quy·ªÅn tr∆∞·ªõc khi ti·∫øn h√†nh.
* H√£y b·∫Øt ƒë·∫ßu b·∫±ng ki·ªÉm tra th·ªß c√¥ng, r·ªìi d√πng c√¥ng c·ª• t·ª± ƒë·ªông ƒë·ªÉ h·ªó tr·ª£.
* ƒê·ª´ng b·ªè qua t√†i li·ªáu system info (OS, kernel, user, cron, d·ªãch v·ª• ch·∫°y...).

---

B·∫°n mu·ªën ti·∫øp theo l√† ph·∫ßn **06. Duy tr√¨ truy c·∫≠p & Che gi·∫•u (Persistence & Covering Tracks)** kh√¥ng?
