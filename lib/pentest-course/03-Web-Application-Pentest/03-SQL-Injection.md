DÆ°á»›i Ä‘Ã¢y lÃ  ná»™i dung chi tiáº¿t cho bÃ i há»c:

---

# 03. SQL Injection

**Táº¥n cÃ´ng SQL Injection â€“ ChÃ¨n cÃ¢u lá»‡nh SQL trÃ¡i phÃ©p**

## ğŸ¯ Má»¥c tiÃªu

* Hiá»ƒu Ä‘Æ°á»£c báº£n cháº¥t cá»§a lá»— há»•ng SQL Injection (SQLi).
* Biáº¿t cÃ¡ch khai thÃ¡c SQLi Ä‘á»ƒ trÃ­ch xuáº¥t dá»¯ liá»‡u, bypass Ä‘Äƒng nháº­p...
* Náº¯m Ä‘Æ°á»£c cÃ¡ch phÃ²ng trÃ¡nh vÃ  báº£o vá»‡ há»‡ thá»‘ng cÆ¡ sá»Ÿ dá»¯ liá»‡u.

> Má»™t cÃ¢u lá»‡nh SQL nhá» cÃ³ thá»ƒ Ä‘Ã¡nh sáº­p cáº£ há»‡ thá»‘ng náº¿u khÃ´ng Ä‘Æ°á»£c kiá»ƒm soÃ¡t Ä‘Ãºng cÃ¡ch.

---

## ğŸ“Œ 1. SQL Injection lÃ  gÃ¬?

SQL Injection lÃ  lá»— há»•ng xáº£y ra khi á»©ng dá»¥ng web **chÃ¨n trá»±c tiáº¿p dá»¯ liá»‡u tá»« ngÆ°á»i dÃ¹ng vÃ o cÃ¢u lá»‡nh SQL** mÃ  khÃ´ng kiá»ƒm soÃ¡t tá»‘t Ä‘áº§u vÃ o. Káº» táº¥n cÃ´ng cÃ³ thá»ƒ:

* Truy cáº­p dá»¯ liá»‡u trÃ¡i phÃ©p
* VÆ°á»£t qua xÃ¡c thá»±c ngÆ°á»i dÃ¹ng
* Thay Ä‘á»•i hoáº·c xÃ³a dá»¯ liá»‡u
* Äiá»u khiá»ƒn há»‡ thá»‘ng náº¿u DB Ä‘Æ°á»£c cáº¥u hÃ¬nh sai

---

## ğŸ’¥ 2. VÃ­ dá»¥ Ä‘Æ¡n giáº£n

### ğŸ”¹ MÃ£ giáº£ Ä‘á»‹nh trong á»©ng dá»¥ng:

```python
username = input("TÃªn Ä‘Äƒng nháº­p: ")
password = input("Máº­t kháº©u: ")

query = "SELECT * FROM users WHERE username = '" + username + "' AND password = '" + password + "'"
```

### ğŸ”¹ Táº¥n cÃ´ng:

```
username: admin' --
password: [bá» trá»‘ng]
```

Káº¿t quáº£ cÃ¢u lá»‡nh:

```sql
SELECT * FROM users WHERE username = 'admin' -- ' AND password = ''
```

â†’ Pháº§n `--` lÃ  comment trong SQL â‡’ bá» qua kiá»ƒm tra máº­t kháº©u!

---

## ğŸ” 3. CÃ¡c dáº¡ng táº¥n cÃ´ng SQLi

| Loáº¡i                  | MÃ´ táº£ ngáº¯n                                    |
| --------------------- | --------------------------------------------- |
| Classic SQLi          | ChÃ¨n cÃ¢u lá»‡nh SQL Ä‘Æ¡n giáº£n                    |
| Blind SQLi            | KhÃ´ng tháº¥y pháº£n há»“i rÃµ â†’ dÃ¹ng Ä‘oÃ¡n/so sÃ¡nh    |
| Error-based SQLi      | Dá»±a vÃ o lá»—i tráº£ vá» Ä‘á»ƒ khai thÃ¡c               |
| Union-based SQLi      | DÃ¹ng `UNION` Ä‘á»ƒ há»£p dá»¯ liá»‡u tá»« báº£ng khÃ¡c      |
| Time-based Blind SQLi | Dá»±a vÃ o Ä‘á»™ trá»… pháº£n há»“i (`SLEEP`) Ä‘á»ƒ suy Ä‘oÃ¡n |

---

## ğŸ›  4. CÃ´ng cá»¥ há»— trá»£

* **sqlmap** â€“ tool tá»± Ä‘á»™ng khai thÃ¡c SQLi
* Burp Suite (Intruder, Repeater)
* sqlninja, Havij (cÅ© nhÆ°ng váº«n cÃ³ tÃ¡c dá»¥ng)
* CÃ¡c ná»n táº£ng luyá»‡n táº­p: DVWA, bWAPP, WebGoat

---

## ğŸ” 5. CÃ¡ch phÃ²ng chá»‘ng

| Ká»¹ thuáº­t                                  | MÃ´ táº£                                               |
| ----------------------------------------- | --------------------------------------------------- |
| Prepared Statements (Parameterized Query) | KhÃ´ng chÃ¨n trá»±c tiáº¿p input vÃ o query                |
| ORM (Object Relational Mapping)           | DÃ¹ng framework quáº£n lÃ½ truy váº¥n SQL an toÃ n hÆ¡n     |
| Input Validation                          | Kiá»ƒm tra vÃ  lá»c dá»¯ liá»‡u ngÆ°á»i dÃ¹ng Ä‘áº§u vÃ o          |
| Least Privilege                           | KhÃ´ng cáº¥p quyá»n thao tÃ¡c dá»¯ liá»‡u vÆ°á»£t má»©c cáº§n thiáº¿t |

---

## âœ… VÃ­ dá»¥ an toÃ n vá»›i Prepared Statement (Python + SQLite)

```python
cursor.execute("SELECT * FROM users WHERE username = ? AND password = ?", (username, password))
```

â†’ Dá»¯ liá»‡u Ä‘Æ°á»£c rÃ ng buá»™c thay vÃ¬ ná»‘i chuá»—i trá»±c tiáº¿p.

---

## ğŸ§  Tá»•ng káº¿t

* SQLi lÃ  má»™t trong nhá»¯ng lá»— há»•ng nguy hiá»ƒm nháº¥t (OWASP A03).
* PhÃ²ng trÃ¡nh SQLi lÃ  trÃ¡ch nhiá»‡m cá»§a láº­p trÃ¬nh viÃªn vÃ  ngÆ°á»i kiá»ƒm thá»­ báº£o máº­t.
* HÃ£y luÃ´n giáº£ Ä‘á»‹nh ráº±ng má»i input Ä‘á»u cÃ³ thá»ƒ bá»‹ khai thÃ¡c.

---

Báº¡n muá»‘n tiáº¿p theo lÃ  bÃ i **04. File Inclusion (LFI/RFI)** khÃ´ng?
